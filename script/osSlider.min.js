/**
 * osSlider v1.0    by 橙色阳光   http://oss.so
 */
function osSlider(e){var o=this;o.objs=e,o.pNode=$(o.objs.pNode),o.cNodes=o.pNode.find(o.objs.cNode),o.cNodeNums=o.cNodes.length,o.nowNodeKey=0,o.width=o.cNodes.find("img").width(),o.height=o.cNodes.find("img").height(),o.moveFlag=!0,o.isPause=!1,o.speedNum=0,o.objs.speed||(o.objs.speed=3e3),o.objs.autoPlay||(o.objs.autoPlay=!0),o.init=function(){o.pNode.addClass("osSlider-main"),o.pNode.css({width:o.width,height:o.height,overflow:"hidden",position:"relative"});var e=$('<ul class="slider-btn"><li class="slider-btn-prev">prev</li><li class="slider-btn-next">next</li></ul>');e.appendTo(o.pNode),$(o.pNode).find(".slider-btn-prev").bind("click",function(){o.toggleMove("prev")}),$(o.pNode).find(".slider-btn-next").bind("click",function(){o.toggleMove("next")});var i=$('<ul class="slider-nav"></ul>');i.appendTo(o.pNode),o.cNodes.each(function(e){if(0==e){var d=20;i.append('<li class="active">'+(e+1)+"</li>")}else{var d=e;i.append("<li>"+(e+1)+"</li>")}$(this).css({width:o.width+"px",height:o.height+"px",overflow:"hidden",position:"absolute",top:"0px",left:"0px","z-index":d})}),$(o.pNode).find(".slider-nav li").each(function(e){$(this).bind("click",function(){o.toggleMove(!1,e)})}),o.objs.autoPlay&&o.moveTime()},o.sliderNavToggle=function(e,o){$(".slider-nav li").each(function(i){(i==e||i==o)&&$(this).toggleClass("active")})},o.toggleMove=function(e,i){function d(e,o){return Math.floor(Math.random()*(o+1)-e)}if(o.moveFlag){if(!e){if(o.nowNodeKey==i)return;e=0==o.nowNodeKey&&i==o.cNodeNums-1||i<o.nowNodeKey?"prev":"next"}i||0==i||("prev"==e?(i=o.nowNodeKey-1,0==o.nowNodeKey&&(i=o.cNodeNums-1)):(i=o.nowNodeKey+1,o.nowNodeKey==o.cNodeNums-1&&(i=0))),o.moveSwitch(d(0,6),e,i)}},o.moveSwitch=function(e,i,d){switch(nid=o.nowNodeKey,o.moveFlag=!1,o.speedNum=0,o.sliderNavToggle(nid,d),e){case 0:o.gridTop(d,0);break;case 1:o.gridTop(d,1);break;case 2:o.gridTop(d,2);break;case 3:o.gridLeft(d,0);break;case 4:o.gridLeft(d,1);break;case 5:o.gridLeft(d,2);break;case 6:o.cellToggle(d);break;default:o.gridTop(d)}},o.gridTop=function(e,i){o.cNodes[e].style.zIndex=19;var d=o.cNodes[o.nowNodeKey].innerHTML;o.cNodes[o.nowNodeKey].innerHTML="";for(var t=0;12>t;t++){var n=$('<div class="cvNode"></div>');$(o.cNodes[o.nowNodeKey]).append(n),n.html(d),n.css({position:"absolute",width:o.width/12+"px",height:o.height+"px",zIndex:20,overflow:"hidden",left:o.width/12*t+"px",top:"0"}),n.find("*").first().css({display:"block","margin-left":o.width/-12*t+"px"})}switch(i){default:case 0:$(o.cNodes[o.nowNodeKey]).find(".cvNode").each(function(e){if(e%2==0)var i=o.height;else var i=-1*o.height;$(this).animate({top:i+"px"},1500)}),setTimeout(function(){o.moveFlag=!0,o.cNodes[e].style.zIndex=20,o.cNodes[o.nowNodeKey].style.zIndex=o.nowNodeKey,$(o.cNodes[o.nowNodeKey]).html(d),o.nowNodeKey=e},1500);break;case 1:case 2:$(o.cNodes[o.nowNodeKey]).find(".cvNode").each(1==i?function(e){var o=80*e;$(this).animate({top:$(this).height()+"px"},500+o)}:function(e){var o=80*e;$(this).animate({top:-1*$(this).height()+"px"},500+o)}),setTimeout(function(){o.moveFlag=!0,o.cNodes[e].style.zIndex=20,o.cNodes[o.nowNodeKey].style.zIndex=o.nowNodeKey,$(o.cNodes[o.nowNodeKey]).html(d),o.nowNodeKey=e},1380)}},o.gridLeft=function(e,i){o.cNodes[e].style.zIndex=19;var d=o.cNodes[o.nowNodeKey].innerHTML;o.cNodes[o.nowNodeKey].innerHTML="";for(var t=0;12>t;t++){var n=$('<div class="cvNode"></div>');$(o.cNodes[o.nowNodeKey]).append(n),n.html(d),n.css({position:"absolute",width:o.width+"px",height:o.height/12+"px",zIndex:20,overflow:"hidden",left:"0",top:o.height/12*t+"px"}),n.find("*").first().css({display:"block","margin-top":o.height/-12*t+"px"})}switch(i){default:case 0:$(o.cNodes[o.nowNodeKey]).find(".cvNode").each(function(e){if(e%2==0)var i=o.width;else var i=-1*o.width;$(this).animate({left:i+"px"},1500)});break;case 1:case 2:$(o.cNodes[o.nowNodeKey]).find(".cvNode").each(1==i?function(e){var i=80*e;$(this).animate({left:-1*o.width+"px"},620+i)}:function(e){var i=80*e;$(this).animate({left:o.width+"px"},620+i)})}setTimeout(function(){o.moveFlag=!0,o.cNodes[e].style.zIndex=20,o.cNodes[o.nowNodeKey].style.zIndex=o.nowNodeKey,$(o.cNodes[o.nowNodeKey]).html(d),o.nowNodeKey=e},1500)},o.cellToggle=function(e){o.cNodes[e].style.zIndex=19;var i=o.cNodes[o.nowNodeKey].innerHTML;o.cNodes[o.nowNodeKey].innerHTML="";for(var d=0;20>d;d++){if(5>d)var t=0;else if(10>d)var t=1;else if(15>d)var t=2;else var t=3;var n=$('<div class="cvNode"></div>');$(o.cNodes[o.nowNodeKey]).append(n),n.html(i),n.css({position:"absolute",width:o.width/5+"px",height:o.height/4+"px",zIndex:20,overflow:"hidden",left:o.width/5*(d%5)+"px",top:o.height/4*t+"px"}),n.find("*").first().css({display:"block","margin-left":o.width/-5*(d%5)+"px","margin-top":o.height/-4*t+"px"})}$(o.cNodes[o.nowNodeKey]).find(".cvNode").each(function(e){e%2==0&&$(this).find("*").first().animate({"margin-left":$(this).width()+"px"},500)}),setTimeout(function(){$(o.cNodes[o.nowNodeKey]).find(".cvNode").each(function(e){e%1==0&&$(this).find("*").first().animate({"margin-left":$(this).width()+"px"},500)})},600),setTimeout(function(){o.moveFlag=!0,o.cNodes[e].style.zIndex=20,o.cNodes[o.nowNodeKey].style.zIndex=o.nowNodeKey,$(o.cNodes[o.nowNodeKey]).html(i),o.nowNodeKey=e},1100)},o.moveTime=function(){setTimeout(function(){o.moveFlag&&(o.speedNum++,o.speedNum>=o.objs.speed/100&&(o.speedNum=0,o.toggleMove("next"))),o.isPause||setTimeout(arguments.callee,100)},100)},o.init()}